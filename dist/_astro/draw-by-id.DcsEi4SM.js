import{j as e}from"./index.DGnL12i5.js";import{r as o}from"./index.C-6U_n5O.js";import{o as l,u as d,a as u}from"./useMobile.DYq9oZfp.js";import{C as m}from"./canvas-view.DnZOovgC.js";import"./createLucideIcon._tSXlV-y.js";import"./share-2.DzUkmqod.js";import"./ShareService.D43wj_sx.js";const b=l(()=>{const t=d(),[a,i]=o.useState(null),c=u(),r=new URLSearchParams(window.location.search).get("id")||window.location.pathname.split("/").pop()||"";o.useEffect(()=>{(async()=>{if(!r){i(!1);return}try{if(t.isLoading)return;const n=await t.getDrawingById(r);i(!!n)}catch(n){console.error("Error checking drawing existence:",n),i(!1)}})()},[r,t,t.isLoading]);const s=()=>{window.location.href="/"};return a===null?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading drawing..."})}):a?(c&&(window.location.href="/"),e.jsx(m,{editingDrawingId:r,onBackToVault:s})):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Drawing not found"}),e.jsxs("p",{className:"text-muted-foreground",children:['The drawing with ID "',r,'" could not be found in your local vault.']}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Back to Vault"})]})});export{b as default};
