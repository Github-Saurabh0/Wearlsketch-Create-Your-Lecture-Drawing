import{d as t}from"./createLucideIcon.LhHHhSz9.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n=t("loader-circle",s);class c{static async storeSharedDrawing(r){try{const e=await fetch("/api/share/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await e.json();if(!e.ok)throw new Error(a.error||`HTTP ${e.status}: ${e.statusText}`);return a}catch(e){return console.error("Failed to store shared drawing:",e),{success:!1,error:e instanceof Error?e.message:"Failed to create share link"}}}static async retrieveSharedDrawing(r){try{const e=await fetch(`/api/share/${r}`),a=await e.json();if(!e.ok)throw new Error(a.error||`HTTP ${e.status}: ${e.statusText}`);return a}catch(e){return console.error("Failed to retrieve shared drawing:",e),{success:!1,error:e instanceof Error?e.message:"Failed to load shared drawing",message:e instanceof Error?e.message:"This shared drawing may have expired or the link is invalid."}}}static createShareData(r,e){return{name:r.substring(0,100),data:e,timestamp:Date.now()}}static checkSizeLimit(r){const e=JSON.stringify(r).length,a=20*1024*1024;return e>a?{valid:!1,size:e,maxSize:a,message:`Drawing is too large to share (${(e/(1024*1024)).toFixed(1)}MB). The limit is ${a/(1024*1024)}MB.`}:{valid:!0,size:e,maxSize:a}}static formatFileSize(r){return r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB"}}export{n as L,c as S};
